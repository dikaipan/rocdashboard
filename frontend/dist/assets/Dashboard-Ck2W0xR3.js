const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FullscreenChartModal-Dj-fE3Zv.js","assets/vendor-react-C0jbZujj.js","assets/vendor-maps-C_U1R0uQ.js","assets/vendor-maps-Dgihpmma.css","assets/MapWithRegions-DSIgS-H5.js","assets/index-BT-vs0to.js","assets/index-13y3N1YK.css","assets/SkillProgress-D60qddzZ.js"])))=>i.map(i=>d[i]);
import{u as nt,L as lt,c as I,T as f,g as K,a as he,_ as ue}from"./index-BT-vs0to.js";import{R as rt,j as e,u as it,r,o as z,p as Q,q as W,s as Z,t as $,v as ot,w as ee,x as te,Y as U,X as me,y as se}from"./vendor-react-C0jbZujj.js";import{u as dt,a as ct,b as xt,c as ht}from"./useEngineerData-B64tYS1F.js";import{u as mt}from"./useStockPartKPIs-BXbBZ10Y.js";import{u as ut}from"./useMachineKPIs-Ba5bYdKS.js";import{n as gt,t as pt,a as Oe}from"./textUtils-DatDPYXU.js";import{P as ft}from"./PageLayout-CILpPulD.js";import"./vendor-maps-C_U1R0uQ.js";rt.memo(function({category:d,setCategory:m}){const M=[{name:"REGION",label:"Region",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]})},{name:"VENDOR",label:"Vendor",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})},{name:"AREA GROUP",label:"Area Group",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"9"}),e.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}];return e.jsx("div",{className:"flex gap-2 mb-4",children:M.map(o=>e.jsxs("button",{onClick:()=>m(o.name),className:`nav-btn ${d===o.name?"active":""}`,title:o.label,children:[e.jsx("span",{className:"icon",children:o.icon}),e.jsx("span",{children:o.label})]},o.name))})});const _e=(v,d="area_group",m)=>{if(!m){const{normalizeAreaGroup:o}=require("./textUtils");m=o}const M={};return v.forEach(o=>{const L=o[d]||"Unknown",N=m(L);M[N]=(M[N]||0)+1}),M};function bt(v,d=50,m="sample"){if(!Array.isArray(v)||v.length<=d)return v;if(m==="aggregate"){const M=Math.ceil(v.length/d),o=[];for(let L=0;L<v.length;L+=M){const N=v.slice(L,L+M),ae=Object.keys(N[0]).filter(_=>typeof N[0][_]=="number"),Y={...N[0]};ae.forEach(_=>{const g=N.reduce((ne,y)=>ne+(y[_]||0),0);Y[_]=Math.round(g/N.length)}),o.push(Y)}return o}else{const M=v.length/d,o=[];for(let L=0;L<d;L++){const N=Math.floor(L*M);o.push(v[N])}return o}}const jt=r.lazy(()=>ue(()=>import("./FullscreenChartModal-Dj-fE3Zv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Pe=r.lazy(()=>ue(()=>import("./MapWithRegions-DSIgS-H5.js"),__vite__mapDeps([4,1,2,3,5,6]))),Nt=r.lazy(()=>ue(()=>import("./SkillProgress-D60qddzZ.js"),__vite__mapDeps([7,1,2,3])));function Dt(){var Ie,Ae,Ee,ze,We;const v=it(),{isDark:d}=nt(),{rows:m,loading:M}=dt(),{rows:o,loading:L}=ct(),{rows:N,loading:ae}=xt(),{rows:Y,loading:_}=ht(),[g,ne]=r.useState("REGION"),[y,ge]=r.useState(""),[E,A]=r.useState(null),[pe,le]=r.useState(!1),[fe,be]=r.useState(!1),[je,Ne]=r.useState(!1),[H,re]=r.useState([]),[Ve,ve]=r.useState(!0),q=r.useDeferredValue(y);r.useEffect(()=>{(async()=>{try{ve(!0);const s=await fetch("/api/monthly-machines");if(s.ok){const a=await s.json();re(a.rows||[])}else re([])}catch(s){console.error("[Dashboard] Error fetching monthly machine data:",s),re([])}finally{ve(!1)}})()},[]);const ye=t=>{let s;if(t.instal_date){const a=t.instal_date;if(a.includes("-")){const l=a.split("-"),i=l[l.length-1];s=i.length===2?"20"+i:i}}else t.year&&(s=t.year.toString());return s||null},Be=(t,s)=>{const a=ye(t);if(!a)return null;const l=parseInt(a);return isNaN(l)?null:s-l},we=(t,s,a)=>{for(const l of s)if(t<=l.max)return l.label;return a},ie=(t,s,a="Unknown")=>{const l={};return t.forEach(i=>{const n=i[s]||a;l[n]=(l[n]||0)+1}),l},F=(t,s="name",a="value")=>Object.entries(t).map(([l,i])=>({[s]:l,[a]:i})),Fe=r.useMemo(()=>{let t=[];if(g==="REGION")t=["Region 1","Region 2","Region 3"];else if(g==="VENDOR")t=m.map(l=>l.vendor).filter(Boolean);else if(g==="AREA GROUP"){const a=m.map(n=>n.area_group).filter(Boolean),l=o.map(n=>n.area_group).filter(Boolean);t=[...a,...l];const i=new Map;t.forEach(n=>{const p=gt(n);i.has(p)||i.set(p,pt(p))}),t=Array.from(i.values())}return[...new Set(t)].filter(Boolean).sort((a,l)=>{if(g==="REGION"){const i=["Region 1","Region 2","Region 3"],n=i.indexOf(a),p=i.indexOf(l);if(n!==-1&&p!==-1)return n-p;if(n!==-1)return-1;if(p!==-1)return 1}return a.localeCompare(l)})},[m,o,g]),w=r.useMemo(()=>{const t=q||y;if(!t)return m;const s=g==="REGION"?"region":g==="VENDOR"?"vendor":"area_group";return g==="AREA GROUP"?m.filter(a=>{var p;const l=(p=a[s])==null?void 0:p.toLowerCase().trim().replace(/\s+/g," "),i=t.toLowerCase().trim();return l.replace(/\s+\d+$/,"")===i}):m.filter(a=>a[s]===t)},[m,g,q,y]),b=r.useMemo(()=>{const t=q||y;return t?g==="REGION"?o.filter(s=>{const a=m.find(l=>l.area_group===s.area_group||l.vendor===s.customer);return(a==null?void 0:a.region)===t||s.region===t}):g==="VENDOR"?o.filter(s=>s.customer===t):g==="AREA GROUP"?o.filter(s=>{var n;const a=(n=s.area_group)==null?void 0:n.toLowerCase().trim().replace(/\s+/g," "),l=t.toLowerCase().trim();return a.replace(/\s+\d+$/,"")===l}):o:o},[o,m,g,q,y]),P=r.useMemo(()=>ie(o,"provinsi","Unknown"),[o]),oe=r.useMemo(()=>ie(m,"region","Unknown"),[m]),Ge=r.useMemo(()=>_e(o,"area_group",Oe),[o]),Ke=r.useMemo(()=>ie(o,"customer","Unknown"),[o]),Ue=r.useMemo(()=>_e(m,"area_group",Oe),[m]);r.useMemo(()=>y||`All ${g}s`,[y,g]);const C=r.useMemo(()=>b.length,[b]),S=r.useMemo(()=>w.length,[w]),Ye=r.useMemo(()=>o.length,[o]),V=r.useMemo(()=>m.length,[m]),He=ut(b,o),{onWarranty:T,outOfWarranty:G,warrantyRemaining:k}=He,h=C>0?T/C*100:0,ke=r.useMemo(()=>!N||N.length===0?[]:N.filter(t=>(t.part_number||t["part number"]||"").toLowerCase()!=="region"),[N]);mt(ke,ke,Y||[]);const c=r.useMemo(()=>{if(!b||b.length===0)return null;const t=(n,p=2)=>{if(!n)return{days:0,expired:!0,status:"expired"};const ce=parseInt(n)||new Date().getFullYear(),X=new Date,J=new Date(ce+p,11,31)-X,O=Math.ceil(J/(1e3*60*60*24));if(O<0)return{days:0,expired:!0,status:"expired"};let B="good";return O<90?B="critical":O<180&&(B="warning"),{days:O,expired:!1,status:B,months:Math.floor(O/30)}},s=b.filter(n=>n.machine_status==="On Warranty"||n.machine_status==="In Warranty").map(n=>({...n,warrantyInfo:t(n.year,2)})).filter(n=>!n.warrantyInfo.expired),a=s.filter(n=>n.warrantyInfo.status==="critical").sort((n,p)=>n.warrantyInfo.days-p.warrantyInfo.days).slice(0,10),l=s.reduce((n,p)=>(n[p.warrantyInfo.status]=(n[p.warrantyInfo.status]||0)+1,n),{critical:0,warning:0,good:0}),i={"0-30 hari":s.filter(n=>n.warrantyInfo.days<=30).length,"31-90 hari":s.filter(n=>n.warrantyInfo.days>30&&n.warrantyInfo.days<=90).length,"91-180 hari":s.filter(n=>n.warrantyInfo.days>90&&n.warrantyInfo.days<=180).length,"181-365 hari":s.filter(n=>n.warrantyInfo.days>180&&n.warrantyInfo.days<=365).length,"> 365 hari":s.filter(n=>n.warrantyInfo.days>365).length};return{totalOnWarranty:s.length,expiringSoonMachines:a,distribution:l,timeRanges:i,avgRemaining:k}},[b,k]),x=r.useMemo(()=>S>0?C/S:0,[C,S]),qe=r.useMemo(()=>x<60?"Good":x<70?"Moderate":"High",[x]),Se=r.useMemo(()=>x<60?"text-green-400":x<70?"text-yellow-400":"text-red-400",[x]),Xe=r.useMemo(()=>x<60?"ðŸ˜Š":x<70?"ðŸ˜":"ðŸ˜°",[x]),Me=r.useMemo(()=>{if(x<=0)return"0%";const t=60,s=70;if(x<=t)return"100%";if(x<=s){const a=100-(x-t)/(s-t)*15;return`${Math.max(85,Math.round(a))}%`}else{const a=t/x*100;return`${Math.max(0,Math.min(85,Math.round(a)))}%`}},[x]),Le=r.useMemo(()=>`${Math.min(100,Math.round(x/70*100))}%`,[x]),Je=r.useMemo(()=>{if(x<=0)return"0%";const t=60,s=70;if(x<=t)return"100%";if(x<=s){const a=100-(x-t)/(s-t)*15;return`${Math.max(85,a)}%`}else{const a=t/x*100;return`${Math.max(0,Math.min(85,a))}%`}},[x]),Qe=r.useMemo(()=>`${Math.min(100,x/70*100)}%`,[x]),Ze=r.useMemo(()=>{const t=[{max:2,label:"0-2 years"},{max:5,label:"3-5 years"},{max:10,label:"6-10 years"}],s="10+ years",a={};return t.forEach(l=>a[l.label]=0),a[s]=0,w.forEach(l=>{const i=l.experience||0,n=we(i,t,s);a[n]++}),F(a,"range","count")},[w]),et=r.useMemo(()=>{const t={};return w.forEach(s=>{(s.skills||[]).forEach(l=>{t[l]=(t[l]||0)+1})}),Object.entries(t).map(([s,a])=>({skill:s,count:a})).sort((s,a)=>a.count-s.count).slice(0,10)},[w]),tt=r.useMemo(()=>{const t={Completed:0,"In Progress":0,"Not Started":0};return w.forEach(s=>{const a=s.training_status||"Not Started";t.hasOwnProperty(a)&&t[a]++}),F(t,"name","value")},[w]),st=r.useMemo(()=>{const t={"In Warranty":0,"Out Of Warranty":0};return b.forEach(s=>{const a=s.machine_status||"Unknown";a.includes("Warranty")&&(a==="Out Of Warranty"?t["Out Of Warranty"]++:t["In Warranty"]++)}),F(t,"name","value")},[b]),u=r.useMemo(()=>{if(!H||H.length===0)return[];const t=H.map(s=>{const a=s.month||s.bulan||"",l=s.year||new Date().getFullYear(),i=s.total_activation||s.total_aktifasi||s.jumlah||s.count||0;return{month:`${a} ${l}`,count:parseInt(i)}});return bt(t,36,"sample")},[H]),Ce=r.useCallback(t=>{const s=parseFloat(t);return isNaN(s)?"0%":Math.abs(s)>=1e3?`${Math.round(s).toLocaleString("en-US")}%`:Math.abs(s)>=100?`${Math.round(s)}%`:`${s.toFixed(1)}%`},[]),j=r.useMemo(()=>{var B,$e,Te;if(!u||u.length===0)return{total:0,average:0,highest:{month:"-",count:0},lowest:{month:"-",count:0},growthRate:0,growthRateFormatted:"0%",recentTrend:"stable"};const t=((B=u[u.length-1])==null?void 0:B.count)||0,s=Math.round(u.reduce((R,D)=>R+D.count,0)/u.length),a=u.reduce((R,D)=>D.count>R.count?D:R,u[0]),l=u.reduce((R,D)=>D.count<R.count?D:R,u[0]),i=(($e=u[0])==null?void 0:$e.count)||1,p=((((Te=u[u.length-1])==null?void 0:Te.count)||0)-i)/i*100,ce=Ce(p),X=u.slice(-6),xe=X.reduce((R,D)=>R+D.count,0)/X.length,J=u.slice(-12,-6).reduce((R,D)=>R+D.count,0)/6,O=xe>J*1.05?"growing":xe<J*.95?"declining":"stable";return{total:t,average:s,highest:a,lowest:l,growthRate:p,growthRateFormatted:ce,recentTrend:O}},[u,Ce]),Re=r.useMemo(()=>{const t=new Date().getFullYear(),s=[{max:2,label:"0-2 years"},{max:5,label:"3-5 years"},{max:10,label:"6-10 years"},{max:15,label:"11-15 years"}],a="15+ years",l={};return s.forEach(i=>l[i.label]=0),l[a]=0,b.forEach(i=>{const n=Be(i,t);if(n!==null&&n>=0){const p=we(n,s,a);l[p]++}}),F(l,"range","count")},[b]),De=r.useMemo(()=>{const t={},s=new Date().getFullYear();return b.forEach(l=>{const i=ye(l);if(i){const n=parseInt(i);n>=s-20&&n<=s&&(t[i]=(t[i]||0)+1)}}),F(t,"year","count").sort((l,i)=>l.year-i.year)},[b]),de=r.useCallback(t=>{v("/engineers",{state:{selectedEngineer:t}})},[v]),at=r.useMemo(()=>{const t=Object.entries(oe).map(([s,a])=>({name:s,value:a,ratio:P!=null&&P[s]?Math.round(P[s]/a):0})).sort((s,a)=>a.value-s.value).slice(0,3);return t.length===0?e.jsx(z,{width:"100%",height:50,children:e.jsxs(Q,{data:[{name:"Filter",value:S},{name:"Total",value:V}],margin:{top:5,right:5,left:0,bottom:5},children:[e.jsx(W,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #10b981",borderRadius:"8px",padding:"6px 10px"},labelStyle:{color:"#e2e8f0",fontSize:"11px",fontWeight:"bold"},itemStyle:{color:"#6ee7b7",fontSize:"11px"},formatter:s=>[s.toLocaleString(),"Jumlah"]}),e.jsx(Z,{dataKey:"value",fill:"#10b981",radius:[4,4,0,0],isAnimationActive:!1,animationDuration:0}),e.jsx($,{dataKey:"name",tick:{fill:"#cbd5e1",fontSize:10},stroke:"#64748b",height:20})]})}):e.jsx(z,{width:"100%",height:50,children:e.jsxs(Q,{data:t,margin:{top:5,right:5,left:0,bottom:20},children:[e.jsx(W,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #10b981",borderRadius:"8px",padding:"6px 10px"},labelStyle:{color:"#e2e8f0",fontSize:"11px",fontWeight:"bold"},itemStyle:{color:"#6ee7b7",fontSize:"11px"},formatter:(s,a)=>a==="value"?[s.toLocaleString(),"Engineer"]:[s,"Rasio"]}),e.jsx(Z,{dataKey:"value",fill:"#10b981",radius:[4,4,0,0],isAnimationActive:!1,animationDuration:0,children:t.map((s,a)=>{const l=parseFloat(s.ratio);let i="#10b981";return l>70?i="#ef4444":l>60&&(i="#f59e0b"),e.jsx(ot,{fill:i},`cell-${a}`)})}),e.jsx($,{dataKey:"name",tick:{fill:"#cbd5e1",fontSize:9},stroke:"#64748b",height:30,angle:-45,textAnchor:"end"})]})})},[oe,P,S,V]);return M||L||ae||_?e.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-900",children:e.jsx(lt,{type:"spinner",message:"Memuat data dashboard...",size:"lg"})}):e.jsxs(ft,{title:"ROC Dashboard",subtitle:"Engineering & Machine Management Overview",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:I(K("blue",!0),"min-h-[200px]"),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:f.kpiTitle,children:"Total Mesin"}),e.jsx("h3",{className:f.kpiValue,children:C.toLocaleString()}),e.jsx("p",{className:f.kpiSubtitle,children:y||`Semua ${g}`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ–¥ï¸"}),e.jsx("button",{onClick:()=>A("total-machines"),className:"text-slate-400 hover:text-blue-400 transition-colors p-2 rounded hover:bg-slate-700/50 bg-blue-600/20 hover:bg-blue-600/30",title:"Lihat Insight Detail",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})]}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"w-full h-3 bg-slate-700/50 rounded-full overflow-hidden relative",children:[e.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-500",style:{width:`${h}%`}}),e.jsx("div",{className:"absolute top-0 right-0 h-full bg-gradient-to-r from-red-500/80 to-red-400/80 transition-all duration-500",style:{width:`${100-h}%`}})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-2.5 hover:bg-green-500/20 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-green-400 text-lg",children:"âœ…"}),e.jsx("span",{className:"text-xs text-green-300 font-semibold",children:"On Warranty"})]}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-xl font-bold text-green-400",children:T.toLocaleString()}),e.jsxs("span",{className:"text-xs text-green-300/70",children:["(",h.toFixed(1),"%)"]})]})]}),e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-2.5 hover:bg-red-500/20 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-red-400 text-lg",children:"âš ï¸"}),e.jsx("span",{className:"text-xs text-red-300 font-semibold",children:"Expired"})]}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-xl font-bold text-red-400",children:G.toLocaleString()}),e.jsxs("span",{className:"text-xs text-red-300/70",children:["(",(100-h).toFixed(1),"%)"]})]})]})]}),e.jsxs("div",{className:"pt-2 border-t border-slate-700/50",children:[e.jsxs("div",{className:`flex items-center justify-between text-xs ${d?"text-slate-300":"text-gray-700"}`,children:[e.jsx("span",{children:"Coverage Rate"}),e.jsxs("span",{className:I("font-semibold",h>=50?"text-green-400":h>=30?"text-yellow-400":"text-red-400"),children:[h.toFixed(1),"%"]})]}),k&&k.avgMonths>0&&e.jsxs("div",{className:`flex items-center justify-between text-xs ${d?"text-slate-300":"text-gray-700"} mt-1`,children:[e.jsx("span",{children:"Avg. Remaining"}),e.jsxs("span",{className:"text-blue-400 font-semibold",children:[k.avgMonths," bulan"]})]})]})]})]}),e.jsxs("div",{className:I(K("green",!0),"min-h-[200px]"),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:f.kpiTitle,children:"Total Engineer"}),e.jsx("h3",{className:f.kpiValue,children:S.toLocaleString()}),e.jsx("p",{className:f.kpiSubtitle,children:y||`Semua ${g}`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-3xl",children:"ðŸ‘¨â€ðŸ’¼"}),e.jsx("button",{onClick:()=>A("total-engineers"),className:"text-slate-400 hover:text-green-400 transition-colors p-2 rounded hover:bg-slate-700/50 bg-green-600/20 hover:bg-green-600/30",title:"Lihat Insight Detail",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-slate-400",children:["Filter: ",S.toLocaleString()]}),e.jsxs("span",{className:"text-slate-500",children:["Total: ",V.toLocaleString()]}),e.jsxs("span",{className:"text-green-400 font-semibold",children:[V>0?(S/V*100).toFixed(1):0,"%"]})]}),S>0&&e.jsxs("div",{className:"flex items-center justify-between text-xs px-1",children:[e.jsx("span",{className:"text-slate-400",children:"Rasio:"}),e.jsxs("span",{className:`font-semibold ${C/S<60?"text-green-400":C/S<70?"text-yellow-400":"text-red-400"}`,children:[Math.round(C/S)," mesin/engineer"]})]}),at]})]}),e.jsxs("div",{className:I(K("purple",!0),"min-h-[200px]"),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:f.kpiTitle,children:"Rasio Mesin/Engineer"}),e.jsx("h3",{className:f.kpiValue,children:Math.round(x)}),e.jsx("p",{className:f.kpiSubtitle,children:"Mesin per engineer"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-3xl",children:"âš™ï¸"}),e.jsx("button",{onClick:()=>A("machine-ratio"),className:"text-slate-400 hover:text-purple-400 transition-colors p-2 rounded hover:bg-slate-700/50 bg-purple-600/20 hover:bg-purple-600/30",title:"Lihat Insight Detail",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(z,{width:"100%",height:95,children:e.jsxs(ee,{data:[{name:"Opt",value:60},{name:"Skrg",value:x},{name:"Max",value:70}],margin:{top:10,right:10,left:0,bottom:10},children:[e.jsx(W,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #8b5cf6",borderRadius:"8px",padding:"6px 10px"},labelStyle:{color:"#e2e8f0",fontSize:"11px",fontWeight:"bold"},itemStyle:{color:"#c4b5fd",fontSize:"11px"},formatter:t=>[`${Math.round(t)}`,"Ratio"]}),e.jsx(te,{type:"monotone",dataKey:"value",stroke:"#8b5cf6",strokeWidth:2.5,dot:!1,isAnimationActive:!1,animationDuration:0}),e.jsx($,{dataKey:"name",tick:{fill:"#cbd5e1",fontSize:10},stroke:"#64748b",height:25}),e.jsx(U,{tick:{fill:"#cbd5e1",fontSize:10},stroke:"#64748b",domain:[0,100],width:35})]})})})]}),e.jsxs("div",{className:I(K("orange",!0),"min-h-[200px]"),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:f.kpiTitle,children:"Efisiensi"}),e.jsx("h3",{className:I("text-3xl font-bold",Se),children:qe}),e.jsx("p",{className:f.kpiSubtitle,children:"Status beban kerja"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-3xl",children:Xe}),e.jsx("button",{onClick:()=>A("efficiency-status"),className:"text-slate-400 hover:text-orange-400 transition-colors p-2 rounded hover:bg-slate-700/50 bg-orange-600/20 hover:bg-orange-600/30",title:"Lihat Insight Detail",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-200 font-medium",children:"Efisiensi"}),e.jsx("span",{className:`font-bold ${Se}`,children:Me})]}),e.jsx("div",{className:"w-full h-3.5 bg-slate-700/50 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${x<60?"bg-gradient-to-r from-green-400 to-green-300":x<70?"bg-gradient-to-r from-yellow-400 to-yellow-300":"bg-gradient-to-r from-red-400 to-red-300"}`,style:{width:Je}})}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-200 font-medium",children:"Beban"}),e.jsx("span",{className:"text-slate-200 font-bold",children:Le})]}),e.jsx("div",{className:"w-full h-3.5 bg-slate-700/50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-slate-400 to-slate-500 transition-all duration-500",style:{width:Qe}})})]})})]})]}),E==="map"&&e.jsxs("div",{className:"fixed inset-0 z-[9999] bg-slate-900 flex flex-col",style:{zIndex:9999,position:"fixed",top:0,left:0,right:0,bottom:0},children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700 flex-shrink-0",style:{height:"auto"},children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-100",children:"Sebaran Service Point HCS-IDN"}),e.jsx("button",{onClick:()=>A(null),className:"text-slate-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-slate-800",children:e.jsx(me,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-hidden",style:{minHeight:0,height:"calc(100vh - 80px)",width:"100%"},children:e.jsx("div",{style:{height:"100%",width:"100%",position:"relative"},children:e.jsx("div",{style:{height:"100%",width:"100%",borderRadius:0,overflow:"hidden",boxShadow:"none",border:"none"},children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Pe,{machines:b,engineers:w,onEngineerClick:de,isFullscreen:!0})})})})})]}),E!=="map"&&e.jsxs("div",{className:"bg-[var(--card-bg)] p-4 rounded-lg relative",style:{height:"600px",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Sebaran Service Point HCS-IDN"}),e.jsx("button",{onClick:()=>A("map"),className:"text-slate-400 hover:text-blue-400 transition-colors p-2 rounded hover:bg-slate-700/50 bg-blue-600/20 hover:bg-blue-600/30",title:"Lihat Insight Detail",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-slate-700/50",children:[e.jsx("div",{className:"flex gap-2",children:[{name:"REGION",label:"Region"},{name:"VENDOR",label:"Vendor"},{name:"AREA GROUP",label:"Area"}].map(t=>e.jsx("button",{onClick:()=>{r.startTransition(()=>{ne(t.name)})},className:`text-sm px-4 py-2 rounded transition-all ${g===t.name?"bg-blue-600/80 text-white font-semibold":"bg-slate-800/50 text-slate-300 hover:bg-slate-700/60"}`,title:t.label,children:t.label},t.name))}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsxs("select",{className:"text-sm bg-slate-800/70 text-slate-200 px-3 py-2 rounded border border-slate-600/50 focus:outline-none focus:border-blue-400/70 cursor-pointer",value:y,onChange:t=>{const s=t.target.value;ge(s)},children:[e.jsxs("option",{value:"",children:["All ",g,"s"]}),Fe.map(t=>e.jsx("option",{value:t,children:t},t))]}),y&&e.jsx("button",{onClick:()=>{r.startTransition(()=>{ge("")})},className:"text-slate-400 hover:text-red-400 text-base font-bold px-2 py-1",title:"Clear",children:"âœ•"})]})]}),(()=>{const t=pe||fe||je||E&&E!=="map";return e.jsx("div",{style:{flex:1,height:"100%",minHeight:"0",position:"relative",zIndex:t?1:"auto",pointerEvents:t?"none":"auto"},className:t?"map-container-modal-open":"",children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-full min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:e.jsx(Pe,{machines:b,engineers:w,onEngineerClick:de})})})})()]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-[var(--card-bg)] p-4 rounded-lg relative min-h-[400px] max-h-[500px] flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Training Skill Progress"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`text-xs ${d?"text-slate-300":"text-gray-700"}`,children:[w.length," engineers"]}),e.jsx("button",{onClick:()=>A("training-skills"),className:"text-slate-400 hover:text-blue-400 transition-colors p-2 rounded hover:bg-slate-700/50 bg-blue-600/20 hover:bg-blue-600/30",title:"Lihat Insight Detail",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})]}),!E&&e.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-800",children:w.length>0?w.map((t,s)=>e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"h-20 bg-slate-800/50 rounded-lg animate-pulse"}),children:e.jsx(Nt,{engineer:t})},s)):e.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:"No engineers data available"})})]}),e.jsxs("div",{className:I(K("green",!0),"min-h-[400px] max-h-[500px] flex flex-col overflow-hidden"),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4 flex-shrink-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:f.kpiTitle,children:"Coverage Garansi"}),e.jsxs("h3",{className:f.kpiValue,children:[h.toFixed(1),"%"]}),e.jsx("p",{className:f.kpiSubtitle,children:y||`Semua ${g}`})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>{console.log("Opening Warranty Insight Modal..."),console.log("warrantyInsights:",c),be(!0)},className:"text-slate-400 hover:text-green-400 transition-colors p-2 rounded hover:bg-slate-700/50 bg-green-600/20 hover:bg-green-600/30",title:"Lihat Insight Detail",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})})]}),e.jsxs("div",{className:"mt-4 flex-shrink-0",children:[e.jsxs("div",{className:"w-full h-4 bg-slate-700 rounded-full overflow-hidden relative",children:[e.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-500",style:{width:`${h}%`}}),e.jsx("div",{className:"absolute top-0 right-0 h-full bg-gradient-to-r from-red-500 to-red-400 transition-all duration-500",style:{width:`${100-h}%`}})]}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"}),e.jsxs("span",{className:"text-green-400 font-semibold",children:[T.toLocaleString()," aktif"]}),e.jsxs("span",{className:"text-slate-500",children:["(",h.toFixed(1),"%)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),e.jsxs("span",{className:"text-red-400 font-semibold",children:[G.toLocaleString()," expired"]}),e.jsxs("span",{className:"text-slate-500",children:["(",(100-h).toFixed(1),"%)"]})]})]})]}),k&&k.avgDays>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700/50 flex-1 flex flex-col min-h-0 overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 flex-shrink-0",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-lg",children:"â±ï¸"}),e.jsx("span",{className:"text-xs text-slate-400",children:"Rata-rata Sisa"})]}),e.jsx("div",{className:"text-lg font-bold text-green-400",children:k.avgMonths>0?`${k.avgMonths} bulan`:`${k.avgDays} hari`})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"text-xs text-slate-400",children:"Total Aktif"})}),e.jsx("div",{className:"text-lg font-bold text-green-400",children:T.toLocaleString()})]})]}),c&&c.expiringSoonMachines&&c.expiringSoonMachines.length>0&&e.jsxs("div",{className:"mb-2 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"text-xs text-slate-400 font-semibold flex items-center gap-1",children:[e.jsx("span",{children:"âš ï¸"})," Mesin yang Expiring Soon"]}),c.expiringSoonMachines.length>3&&e.jsx("button",{onClick:()=>Ne(!0),className:"text-xs text-green-400 hover:text-green-300 transition-colors font-semibold",children:"Lihat Detail â†’"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-700/50",children:[e.jsx("th",{className:"text-left py-1 px-2 text-slate-400 font-semibold",children:"#"}),e.jsx("th",{className:"text-left py-1 px-2 text-slate-400 font-semibold",children:"WSID"}),e.jsx("th",{className:"text-left py-1 px-2 text-slate-400 font-semibold",children:"Area"}),e.jsx("th",{className:"text-right py-1 px-2 text-slate-400 font-semibold",children:"Sisa"})]})}),e.jsx("tbody",{children:c.expiringSoonMachines.slice(0,3).map((t,s)=>e.jsxs("tr",{className:"border-b border-slate-700/30 hover:bg-slate-800/50 transition-colors last:border-b-0",children:[e.jsx("td",{className:"py-1 px-2 text-slate-300 font-mono",children:s+1}),e.jsx("td",{className:"py-1 px-2",children:e.jsx("div",{className:"text-slate-200 font-mono truncate max-w-[120px]",title:t.wsid||"Unknown",children:t.wsid||"Unknown"})}),e.jsx("td",{className:"py-1 px-2",children:e.jsx("div",{className:"text-slate-400 truncate max-w-[100px]",title:t.area_group||"Unknown",children:t.area_group||"Unknown"})}),e.jsx("td",{className:"py-1 px-2 text-right",children:e.jsxs("div",{className:`font-bold ${t.warrantyInfo.days<=30?"text-red-400":t.warrantyInfo.days<=60?"text-orange-400":"text-yellow-400"}`,children:[t.warrantyInfo.days," hari"]})})]},s))})]})})]}),e.jsx("div",{className:"mt-auto pt-3 border-t border-slate-700/50 flex-shrink-0",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"text-slate-400",children:["Total Mesin: ",e.jsx("span",{className:"text-slate-200 font-semibold",children:C.toLocaleString()})]}),e.jsxs("div",{className:"text-slate-400",children:["Coverage: ",e.jsxs("span",{className:"text-green-400 font-semibold",children:[h.toFixed(1),"%"]})]})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:I(he("blue",!0),"min-h-[340px]"),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:f.heading4,children:"Aktivasi Mesin Per Bulan"}),e.jsx("p",{className:f.mutedSmall,children:"Trend aktivasi mesin bulanan"})]}),e.jsx("button",{onClick:()=>le(!0),className:"text-slate-400 hover:text-blue-400 transition-colors p-2 rounded hover:bg-slate-700/50 bg-blue-600/20 hover:bg-blue-600/30",title:"Lihat Insight Detail",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),Ve?e.jsx("div",{className:"flex items-center justify-center",style:{height:"220px"},children:e.jsx("div",{className:"text-slate-500",children:"Loading data aktivasi..."})}):u.length===0?e.jsx("div",{className:"flex items-center justify-center",style:{height:"220px"},children:e.jsx("div",{className:"text-slate-500",children:"Data aktivasi tidak tersedia"})}):e.jsx("div",{style:{height:"220px"},children:e.jsx(z,{width:"100%",height:220,children:e.jsxs(ee,{data:u,children:[e.jsx(se,{strokeDasharray:"3 3",stroke:"#475569"}),e.jsx($,{dataKey:"month",tick:{fill:"#94a3b8",fontSize:11}}),e.jsx(U,{tick:{fill:"#94a3b8",fontSize:11}}),e.jsx(W,{contentStyle:{backgroundColor:"#1e293b",border:"2px solid #3b82f6",borderRadius:"8px",padding:"6px 10px"},labelStyle:{color:"#e2e8f0",fontSize:"11px",fontWeight:"bold"},itemStyle:{color:"#93c5fd",fontSize:"11px"}}),e.jsx(te,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:3,dot:!1,isAnimationActive:!1,animationDuration:0})]})})})]}),e.jsxs("div",{className:I(he("blue",!0),"min-h-[340px]"),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:f.heading4,children:"Distribusi Usia Mesin"}),e.jsx("p",{className:f.mutedSmall,children:"Berdasarkan tahun instalasi"})]}),e.jsx("button",{onClick:()=>A("machine-age"),className:"text-slate-400 hover:text-blue-400 transition-colors p-2 rounded hover:bg-slate-700/50 bg-blue-600/20 hover:bg-blue-600/30",title:"Lihat Insight Detail",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),e.jsx("div",{style:{height:"220px"},children:e.jsx(z,{width:"100%",height:220,children:e.jsxs(Q,{data:Re,children:[e.jsx(se,{strokeDasharray:"3 3",stroke:"#475569"}),e.jsx($,{dataKey:"range",tick:{fill:"#94a3b8",fontSize:11},angle:-15,textAnchor:"end",height:60}),e.jsx(U,{tick:{fill:"#94a3b8",fontSize:11}}),e.jsx(W,{contentStyle:{backgroundColor:"#1e293b",border:"2px solid #3b82f6",borderRadius:"8px",padding:"6px 10px"},labelStyle:{color:"#e2e8f0",fontSize:"11px",fontWeight:"bold"},itemStyle:{color:"#93c5fd",fontSize:"11px"}}),e.jsx(Z,{dataKey:"count",fill:"#3b82f6",radius:[6,6,0,0],isAnimationActive:!1,animationDuration:0})]})})})]}),e.jsxs("div",{className:I(he("green",!0),"min-h-[340px]"),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:f.heading4,children:"Trend Instalasi per Tahun"}),e.jsx("p",{className:f.mutedSmall,children:"Growth mesin over time"})]}),e.jsx("button",{onClick:()=>A("install-year"),className:"text-slate-400 hover:text-green-400 transition-colors p-2 rounded hover:bg-slate-700/50 bg-green-600/20 hover:bg-green-600/30",title:"Lihat Insight Detail",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),e.jsx("div",{style:{height:"220px"},children:e.jsx(z,{width:"100%",height:220,children:e.jsxs(ee,{data:De,children:[e.jsx(se,{strokeDasharray:"3 3",stroke:"#475569"}),e.jsx($,{dataKey:"year",tick:{fill:"#94a3b8",fontSize:11}}),e.jsx(U,{tick:{fill:"#94a3b8",fontSize:11}}),e.jsx(W,{contentStyle:{backgroundColor:"#1e293b",border:"2px solid #10b981",borderRadius:"8px",padding:"6px 10px"},labelStyle:{color:"#e2e8f0",fontSize:"11px",fontWeight:"bold"},itemStyle:{color:"#6ee7b7",fontSize:"11px"}}),e.jsx(te,{type:"monotone",dataKey:"count",stroke:"#10b981",strokeWidth:3,dot:!1,isAnimationActive:!1,animationDuration:0})]})})})]})]}),e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:E&&E!=="map"&&e.jsx(jt,{chartType:E,onClose:()=>A(null),filteredMachines:b,filteredEngineers:w,experienceData:Ze,skillsData:et,trainingData:tt,warrantyData:st,machineAgeData:Re,installYearData:De,currentMachines:C,currentEngineers:S,totalMachines:Ye,totalEngineers:V,currentRatio:x,efficiencyPercentage:Me,loadPercentage:Le,machinesByRegion:P,engineersByRegion:oe,machinesByAreaGroup:Ge,machinesByVendor:Ke,engineersByAreaGroup:Ue,onEngineerClick:de,warrantyPercentage:h,onWarranty:T,outOfWarranty:G,warrantyRemaining:k})}),pe&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9999] flex items-center justify-center p-4",style:{zIndex:9999},onClick:()=>le(!1),children:e.jsxs("div",{className:"bg-slate-800 rounded-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto border border-slate-700",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-6 flex justify-between items-center z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-100",children:"ðŸ“Š Insights Aktivasi Mesin"}),e.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Analisis mendalam trend aktivasi mesin dari ",(Ie=u[0])==null?void 0:Ie.month," hingga ",(Ae=u[u.length-1])==null?void 0:Ae.month]})]}),e.jsx("button",{onClick:()=>le(!1),className:"text-slate-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:`bg-gradient-to-br ${d?"from-blue-500/30 via-blue-400/20 to-indigo-500/30 border-blue-400/40":"from-blue-100 via-blue-50 to-indigo-100 border-blue-300"} p-4 rounded-lg border shadow-lg ${d?"shadow-blue-500/20":"shadow-blue-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸŽ¯"}),e.jsx("p",{className:`text-sm ${d?"text-slate-300":"text-gray-700"}`,children:"Total Mesin Aktif"})]}),e.jsx("h3",{className:`text-3xl font-bold ${d?"text-blue-300":"text-blue-600"}`,children:j.total.toLocaleString()}),e.jsx("p",{className:`text-xs ${d?"text-slate-400":"text-gray-600"} mt-1`,children:"saat ini"})]}),e.jsxs("div",{className:`bg-gradient-to-br ${d?"from-emerald-500/30 via-green-400/20 to-teal-500/30 border-emerald-400/40":"from-emerald-100 via-green-50 to-teal-100 border-emerald-300"} p-4 rounded-lg border shadow-lg ${d?"shadow-emerald-500/20":"shadow-emerald-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“ˆ"}),e.jsx("p",{className:`text-sm ${d?"text-slate-300":"text-gray-700"}`,children:"Pertumbuhan Total"})]}),e.jsxs("h3",{className:`text-3xl font-bold ${d?"text-emerald-300":"text-emerald-600"}`,children:["+",j.growthRateFormatted]}),e.jsx("p",{className:`text-xs ${d?"text-slate-400":"text-gray-600"} mt-1`,children:"sejak awal"})]}),e.jsxs("div",{className:`bg-gradient-to-br ${d?"from-purple-500/30 via-purple-400/20 to-pink-500/30 border-purple-400/40":"from-purple-100 via-purple-50 to-pink-100 border-purple-300"} p-4 rounded-lg border shadow-lg ${d?"shadow-purple-500/20":"shadow-purple-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ†"}),e.jsx("p",{className:`text-sm ${d?"text-slate-300":"text-gray-700"}`,children:"Puncak Tertinggi"})]}),e.jsx("h3",{className:`text-2xl font-bold ${d?"text-purple-300":"text-purple-600"}`,children:j.highest.count.toLocaleString()}),e.jsx("p",{className:`text-xs ${d?"text-slate-400":"text-gray-600"} mt-1`,children:j.highest.month})]}),e.jsxs("div",{className:`bg-gradient-to-br ${d?"from-orange-500/30 via-amber-400/20 to-yellow-500/30 border-orange-400/40":"from-orange-100 via-amber-50 to-yellow-100 border-orange-300"} p-4 rounded-lg border shadow-lg ${d?"shadow-orange-500/20":"shadow-orange-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-2xl",children:j.recentTrend==="growing"?"ðŸš€":j.recentTrend==="declining"?"ðŸ“‰":"âž¡ï¸"}),e.jsx("p",{className:`text-sm ${d?"text-slate-300":"text-gray-700"}`,children:"Trend Terkini"})]}),e.jsx("h3",{className:`text-2xl font-bold ${d?"text-orange-300":"text-orange-600"} capitalize`,children:j.recentTrend==="growing"?"Naik":j.recentTrend==="declining"?"Turun":"Stabil"}),e.jsx("p",{className:`text-xs ${d?"text-slate-400":"text-gray-600"} mt-1`,children:"6 bulan terakhir"})]})]}),e.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-lg border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:"ðŸ“ˆ Trend Aktivasi Historis"}),e.jsx(z,{width:"100%",height:350,children:e.jsxs(ee,{data:u,children:[e.jsx(se,{strokeDasharray:"3 3",stroke:"#475569"}),e.jsx($,{dataKey:"month",tick:{fill:"#94a3b8",fontSize:10},stroke:"#64748b",angle:-45,textAnchor:"end",height:80}),e.jsx(U,{tick:{fill:"#94a3b8",fontSize:11},stroke:"#64748b"}),e.jsx(W,{contentStyle:{backgroundColor:"#1e293b",border:"2px solid #3b82f6",borderRadius:"12px"},labelStyle:{color:"#e2e8f0",fontWeight:"bold"},itemStyle:{color:"#60a5fa"},formatter:t=>[t.toLocaleString()+" mesin","Total Aktif"]}),e.jsx(te,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:3,dot:!1,isAnimationActive:!1,animationDuration:0})]})})]}),e.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-lg border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:"ðŸ’¡ Key Insights & Rekomendasi"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex gap-3 items-start p-3 bg-slate-800/50 rounded-lg",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“Š"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-200 font-medium",children:"Pertumbuhan Eksponensial"}),e.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Total mesin aktif telah tumbuh ",e.jsx("strong",{className:"text-green-400",children:j.growthRateFormatted})," sejak ",(Ee=u[0])==null?void 0:Ee.month,", menunjukkan adopsi yang sangat kuat dan konsisten."]})]})]}),e.jsxs("div",{className:"flex gap-3 items-start p-3 bg-slate-800/50 rounded-lg",children:[e.jsx("span",{className:"text-2xl",children:"ðŸŽ¯"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-200 font-medium",children:"Peak Performance"}),e.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Aktivasi tertinggi tercatat pada ",e.jsx("strong",{className:d?"text-purple-300":"text-purple-600",children:j.highest.month})," dengan",e.jsxs("strong",{className:"text-purple-400",children:[" ",j.highest.count.toLocaleString()," mesin"]})," aktif."]})]})]}),e.jsxs("div",{className:"flex gap-3 items-start p-3 bg-slate-800/50 rounded-lg",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“…"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-200 font-medium",children:"Maintenance Planning"}),e.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Dengan ",j.total.toLocaleString()," mesin aktif, prioritaskan preventive maintenance schedule untuk memastikan uptime optimal di semua lokasi."]})]})]}),e.jsxs("div",{className:"flex gap-3 items-start p-3 bg-slate-800/50 rounded-lg",children:[e.jsx("span",{className:"text-2xl",children:j.recentTrend==="growing"?"ðŸš€":j.recentTrend==="declining"?"âš ï¸":"âž¡ï¸"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-200 font-medium",children:"Trend Analysis"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:j.recentTrend==="growing"?"Trend aktivasi menunjukkan pertumbuhan positif 6 bulan terakhir. Pastikan resource dan support team mencukupi.":j.recentTrend==="declining"?"Trend menunjukkan penurunan aktivasi. Review faktor-faktor yang mempengaruhi dan lakukan improvement action.":"Trend stabil. Monitor terus untuk memastikan konsistensi operasional dan identifikasi opportunity untuk growth."})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 p-4 rounded-lg border border-blue-500/30",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-100 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸŽ¯"})," Action Items & Next Steps"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-400 mt-0.5",children:"â–¸"}),e.jsx("span",{children:"Lakukan capacity planning berdasarkan trend pertumbuhan untuk antisipasi kebutuhan engineer dan spare parts"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-400 mt-0.5",children:"â–¸"}),e.jsx("span",{children:"Analisis pola seasonal untuk optimasi deployment resources di bulan-bulan dengan aktivasi tinggi"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-400 mt-0.5",children:"â–¸"}),e.jsx("span",{children:"Setup monitoring dashboard real-time untuk track aktivasi harian dan identify anomali lebih cepat"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-400 mt-0.5",children:"â–¸"}),e.jsx("span",{children:"Review historical data untuk understand correlation antara aktivasi mesin dengan faktor eksternal (seasonality, campaign, dll)"})]})]})]})]})]})}),je&&c&&c.expiringSoonMachines&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-6",style:{zIndex:9999},children:e.jsxs("div",{className:"bg-slate-900 rounded-xl w-full max-w-5xl max-h-[90vh] flex flex-col border border-slate-700 shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-700",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsx("span",{children:"âš ï¸"})," Top 5 Mesin yang Expiring Soon"]}),e.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Menampilkan 5 dari ",c.expiringSoonMachines.length," mesin dengan status critical"]})]}),e.jsx("button",{onClick:()=>Ne(!1),className:"text-slate-400 hover:text-white transition-colors p-2 rounded hover:bg-slate-800",children:e.jsx(me,{size:24})})]}),e.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"#"}),e.jsx("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"WSID"}),e.jsx("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Nama Mesin"}),e.jsx("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Area"}),e.jsx("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Customer"}),e.jsx("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Region"}),e.jsx("th",{className:"text-right py-3 px-4 text-slate-400 font-semibold",children:"Sisa Hari"}),e.jsx("th",{className:"text-center py-3 px-4 text-slate-400 font-semibold",children:"Status"})]})}),e.jsx("tbody",{children:c.expiringSoonMachines.slice(0,5).map((t,s)=>e.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[e.jsxs("td",{className:"py-3 px-4 text-slate-300 font-bold text-red-400",children:["#",s+1]}),e.jsx("td",{className:"py-3 px-4 text-slate-200 font-mono text-sm",children:t.wsid}),e.jsx("td",{className:"py-3 px-4 text-slate-200 font-semibold",children:t.branch_name||"Unknown"}),e.jsx("td",{className:"py-3 px-4 text-slate-300",children:t.area_group||"Unknown"}),e.jsx("td",{className:"py-3 px-4 text-slate-300",children:t.customer||"Unknown"}),e.jsx("td",{className:"py-3 px-4 text-slate-300",children:t.region||"Unknown"}),e.jsxs("td",{className:"py-3 px-4 text-right",children:[e.jsx("div",{className:`font-bold text-lg ${t.warrantyInfo.days<=30?"text-red-400":t.warrantyInfo.days<=60?"text-orange-400":"text-yellow-400"}`,children:t.warrantyInfo.days}),e.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:t.warrantyInfo.months>0?`${t.warrantyInfo.months} bulan`:"< 1 bulan"})]}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-500/20 text-red-400 font-semibold",children:"Critical"})})]},s))})]})})})]})}),fe&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-6",style:{zIndex:9999},children:e.jsxs("div",{className:"bg-slate-900 rounded-xl w-full max-w-6xl max-h-[90vh] flex flex-col border border-slate-700 shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-700",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“Š"})," Insight Detail Warranty"]}),e.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Analisis lengkap status warranty ",c.totalOnWarranty," mesin"]})]}),e.jsx("button",{onClick:()=>be(!1),className:"text-slate-400 hover:text-white transition-colors p-2 rounded hover:bg-slate-800",children:e.jsx(me,{size:24})})]}),e.jsxs("div",{className:"flex-1 p-6 overflow-y-auto space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[e.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"Total On Warranty"}),e.jsx("p",{className:"text-2xl font-bold text-green-400",children:c.totalOnWarranty})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[e.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"Rata-rata Sisa"}),e.jsx("p",{className:"text-2xl font-bold text-blue-400",children:((ze=c.avgRemaining)==null?void 0:ze.avgMonths)>0?`${c.avgRemaining.avgMonths} bulan`:`${((We=c.avgRemaining)==null?void 0:We.avgDays)||0} hari`})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-red-500/30",children:[e.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"Expiring Soon"}),e.jsx("p",{className:"text-2xl font-bold text-red-400",children:c.expiringSoonMachines.length}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"< 90 hari"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-yellow-500/30",children:[e.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"Warning"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:c.distribution.warning||0}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"90-180 hari"})]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-6 border border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-200 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“Š"})," Warranty Status Overview"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"w-full h-6 bg-slate-700/50 rounded-full overflow-hidden relative",children:[e.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-500 flex items-center justify-center",style:{width:`${h}%`},children:h>=20&&e.jsxs("span",{className:"text-xs font-bold text-white",children:[h.toFixed(1),"%"]})}),e.jsx("div",{className:"absolute top-0 right-0 h-full bg-gradient-to-r from-red-500/80 to-red-400/80 transition-all duration-500 flex items-center justify-center",style:{width:`${100-h}%`},children:100-h>=20&&e.jsxs("span",{className:"text-xs font-bold text-white",children:[(100-h).toFixed(1),"%"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4 hover:bg-green-500/20 transition-colors",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-400 text-2xl",children:"âœ…"}),e.jsx("span",{className:"text-sm text-green-300 font-semibold",children:"On Warranty"})]})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-4xl font-bold text-green-400",children:T.toLocaleString()}),e.jsx("span",{className:"text-lg text-green-300/70",children:"mesin"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-green-300/70",children:"Percentage"}),e.jsxs("span",{className:"text-green-400 font-bold",children:[h.toFixed(1),"%"]})]}),k&&k.avgMonths>0&&e.jsxs("div",{className:"flex items-center justify-between text-xs pt-2 border-t border-green-500/20",children:[e.jsx("span",{className:"text-green-300/70",children:"Avg. Remaining"}),e.jsxs("span",{className:"text-green-400 font-bold",children:[k.avgMonths," bulan"]})]})]})]}),e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 hover:bg-red-500/20 transition-colors",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-400 text-2xl",children:"âš ï¸"}),e.jsx("span",{className:"text-sm text-red-300 font-semibold",children:"Expired"})]})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-4xl font-bold text-red-400",children:G.toLocaleString()}),e.jsx("span",{className:"text-lg text-red-300/70",children:"mesin"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-red-300/70",children:"Percentage"}),e.jsxs("span",{className:"text-red-400 font-bold",children:[(100-h).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs pt-2 border-t border-red-500/20",children:[e.jsx("span",{className:"text-red-300/70",children:"Status"}),e.jsx("span",{className:I("font-bold",100-h>70?"text-red-400":100-h>50?"text-yellow-400":"text-green-400"),children:100-h>70?"Critical":100-h>50?"High":"Normal"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-4 border-t border-slate-700",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-slate-200",children:C.toLocaleString()}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Total Mesin"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-400",children:T.toLocaleString()}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Aktif"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-400",children:G.toLocaleString()}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Expired"})]})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-6 border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-200 mb-4",children:"Distribusi Sisa Waktu Warranty"}),e.jsx(z,{width:"100%",height:250,children:e.jsxs(Q,{data:Object.entries(c.timeRanges).map(([t,s])=>({name:t,value:s})),children:[e.jsx($,{dataKey:"name",tick:{fill:"#cbd5e1",fontSize:11}}),e.jsx(W,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #10b981",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"}}),e.jsx(Z,{dataKey:"value",fill:"#10b981",radius:[4,4,0,0],isAnimationActive:!1,animationDuration:0})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-red-400 font-semibold",children:"Critical"}),e.jsx("span",{className:"text-2xl font-bold text-red-400",children:c.distribution.critical||0})]}),e.jsx("p",{className:"text-xs text-slate-400",children:"Mesin dengan sisa < 90 hari"}),e.jsx("div",{className:"mt-2 w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-red-500",style:{width:`${c.totalOnWarranty>0?c.distribution.critical/c.totalOnWarranty*100:0}%`}})})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-yellow-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Warning"}),e.jsx("span",{className:"text-2xl font-bold text-yellow-400",children:c.distribution.warning||0})]}),e.jsx("p",{className:"text-xs text-slate-400",children:"Mesin dengan sisa 90-180 hari"}),e.jsx("div",{className:"mt-2 w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-yellow-500",style:{width:`${c.totalOnWarranty>0?c.distribution.warning/c.totalOnWarranty*100:0}%`}})})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-green-400 font-semibold",children:"Good"}),e.jsx("span",{className:"text-2xl font-bold text-green-400",children:c.distribution.good||0})]}),e.jsx("p",{className:"text-xs text-slate-400",children:"Mesin dengan sisa > 180 hari"}),e.jsx("div",{className:"mt-2 w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500",style:{width:`${c.totalOnWarranty>0?c.distribution.good/c.totalOnWarranty*100:0}%`}})})]})]}),c.expiringSoonMachines.length>0&&e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-6 border border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-200 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"âš ï¸"})," Mesin yang Expiring Soon (Top 10)"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-700",children:[e.jsx("th",{className:"text-left p-2 text-slate-400",children:"WSID"}),e.jsx("th",{className:"text-left p-2 text-slate-400",children:"Branch"}),e.jsx("th",{className:"text-left p-2 text-slate-400",children:"Customer"}),e.jsx("th",{className:"text-left p-2 text-slate-400",children:"Area"}),e.jsx("th",{className:"text-right p-2 text-slate-400",children:"Sisa Hari"}),e.jsx("th",{className:"text-right p-2 text-slate-400",children:"Status"})]})}),e.jsx("tbody",{children:c.expiringSoonMachines.map((t,s)=>e.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30",children:[e.jsx("td",{className:"p-2 text-slate-200 font-mono text-xs",children:t.wsid}),e.jsx("td",{className:"p-2 text-slate-300",children:t.branch_name}),e.jsx("td",{className:"p-2 text-slate-300",children:t.customer}),e.jsx("td",{className:"p-2 text-slate-300",children:t.area_group}),e.jsx("td",{className:"p-2 text-right",children:e.jsxs("span",{className:"text-red-400 font-semibold",children:[t.warrantyInfo.days," hari"]})}),e.jsx("td",{className:"p-2 text-right",children:e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-500/20 text-red-400",children:"Critical"})})]},s))})]})})]})]})]})})]})}export{Dt as default};
