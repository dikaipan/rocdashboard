import{r as d,j as e,a8 as ie,z as ce,ap as de,aq as xe,ar as le,as as Z,a0 as F,K as Q,P as ne,X as ee,at as _e,Q as Pe,au as ue,_ as b,a3 as De}from"./vendor-react-C0jbZujj.js";import{u as me,c as Ee}from"./index-BT-vs0to.js";import{P as Oe}from"./PageLayout-CILpPulD.js";import{u as ge,a as pe,C as be}from"./CustomConfirm-CneD7qTP.js";import"./vendor-maps-C_U1R0uQ.js";const Be=()=>{const{isDark:t}=me(),m=ge(),[S,g]=d.useState([]),[G,E]=d.useState(!0),[$,te]=d.useState(""),[O,W]=d.useState("gallery"),[se,H]=d.useState(!1),[ae,j]=d.useState(!1),[a,I]=d.useState(null),[k,V]=d.useState(null),[oe,Y]=d.useState("create"),[p,f]=d.useState({tools_name:"",current_stock:0,stock_new:0,stock_old:0,stock_detail:"",photo:"",description:"",uom:"Pcs",remark:"",location:""}),[N,v]=d.useState(null),[L,U]=d.useState(!1),w=d.useRef(!0),_=d.useRef(!1),P=d.useRef(null),B=pe({endpoint:"/api/tools",primaryKey:"tools_name",eventName:"toolDataChanged"});d.useEffect(()=>{w.current=!0;const s=async()=>{if(_.current){console.log("[InventoryTools] Fetch already in progress, skipping");return}_.current=!0;try{w.current&&E(!0);const n=await fetch("/api/tools");if(!w.current){_.current=!1;return}const i=n.headers.get("content-type");if(!i||!i.includes("application/json")){const o=await n.text();console.error("[InventoryTools] Expected JSON but got:",i,o.substring(0,100)),w.current&&(g([]),E(!1)),_.current=!1;return}if(n.ok){const o=await n.json();if(!w.current){_.current=!1;return}Array.isArray(o)?g(o):o.data&&Array.isArray(o.data)?g(o.data):o.rows&&Array.isArray(o.rows)?g(o.rows):(console.warn("[InventoryTools] Unexpected data format:",o),g([]))}else{const o=await n.json().catch(()=>({}));console.error("[InventoryTools] Error response:",n.status,o),w.current&&g([])}}catch(n){if(!w.current){_.current=!1;return}console.error("[InventoryTools] Error fetching tools:",n),g([])}finally{w.current&&E(!1),_.current=!1}};s();const l=()=>{P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{console.log("[InventoryTools] Data change event received, fetching..."),s()},500)};return window.addEventListener("toolDataChanged",l),()=>{w.current=!1,P.current&&clearTimeout(P.current),window.removeEventListener("toolDataChanged",l)}},[]);const q=d.useMemo(()=>{let s=S;if($){const l=$.toLowerCase();s=s.filter(n=>(n.tools_name||n["Part Name"]||n["TOOLS NAME"]||"").toLowerCase().includes(l)||(n.description||n["Detail Specification"]||"").toLowerCase().includes(l)||(n.stock_detail||n["Detail Specification"]||"").toLowerCase().includes(l)||(n.remark||n.Remark||"").toLowerCase().includes(l))}return s},[S,$]),re=async s=>{var n;const l=(n=s.target.files)==null?void 0:n[0];if(l){if(!l.type.startsWith("image/")){b.error("File harus berupa gambar");return}if(l.size>5*1024*1024){b.error("Ukuran file maksimal 5MB");return}try{U(!0);const i=new FileReader;i.onloadend=()=>{v(i.result)},i.readAsDataURL(l);const o=new FormData;o.append("file",l);const h=await fetch("/api/upload-photo",{method:"POST",body:o});if(!h.ok){const D=await h.json();throw new Error(D.error||"Failed to upload photo")}const C=await h.json();f(D=>({...D,photo:C.path})),v(C.path),b.success("Foto berhasil diunggah")}catch(i){console.error("Error uploading photo:",i),b.error(i.message||"Gagal mengunggah foto"),v(null)}finally{U(!1)}}},K=()=>{f({tools_name:"",current_stock:0,stock_new:0,stock_old:0,stock_detail:"",photo:"",description:"",uom:"Pcs",remark:"",location:""}),v(null),V(null)},T=(s=null)=>{s?(V(s),Y("edit"),f({tools_name:s.tools_name||s["Part Name"]||s["TOOLS NAME"]||"",current_stock:s.current_stock||s.Total||s["CURRENT STOCK"]||0,stock_new:s.stock_new||s.NEW||0,stock_old:s.stock_old||s.OLD||0,stock_detail:s.stock_detail||s["Detail Specification"]||"",photo:s.photo||s.Picture||"",description:s.description||s["Detail Specification"]||"",uom:s.uom||s.UOM||"Pcs",remark:s.remark||s.Remark||"",location:s.location||""}),v(s.photo||s.Picture||null)):(K(),Y("create")),H(!0)},r=()=>{H(!1),K()},x=(s,l)=>{if(!s)return!0;const n=R=>R==null?"":typeof R=="number"?R:String(R).trim(),i=(R,Ce=[])=>{let X=s[R];if(!X||X===""){for(const Se of Ce)if(X=s[Se],X)break}return n(X||"")},o=R=>n(l[R]||""),h=i("tools_name",["Part Name","TOOLS NAME"]),C=o("tools_name");if(h!==C)return!0;const D=parseInt(i("current_stock",["Total","CURRENT STOCK"]))||0,z=parseInt(o("current_stock"))||0;if(D!==z)return!0;const M=parseInt(i("stock_new",["NEW"]))||0,J=parseInt(o("stock_new"))||0;if(M!==J)return!0;const he=parseInt(i("stock_old",["OLD"]))||0,fe=parseInt(o("stock_old"))||0;if(he!==fe)return!0;const ye=i("stock_detail",["Detail Specification","description"]),je=o("stock_detail")||o("description");if(ye!==je)return!0;const Ne=i("photo",["Picture"]),ve=o("photo");if(Ne!==ve)return!0;const we=i("uom",["UOM"])||"Pcs",ke=o("uom")||"Pcs";if(we!==ke)return!0;const $e=i("remark",["Remark"]),Te=o("remark");return $e!==Te},u=async s=>{if(s.preventDefault(),!p.tools_name.trim()){b.error("Nama tools wajib diisi");return}try{if(k){if(!x(k,p)){b("Tidak ada perubahan data",{duration:2e3,icon:"ℹ️"}),r();return}const l=k.tools_name||k["Part Name"]||k["TOOLS NAME"],n=await B.update(l,p);n&&n.no_changes?b("Tidak ada perubahan data",{duration:2e3,icon:"ℹ️"}):b.success("Tools berhasil diperbarui")}else await B.create(p),b.success("Tools berhasil ditambahkan");r()}catch(l){console.error("Error saving tool:",l),b.error(l.message||"Gagal menyimpan tools")}},y=s=>{const l=s.tools_name||s["Part Name"]||s["TOOLS NAME"];m.showConfirm(`Apakah Anda yakin ingin menghapus "${l}"?`,async()=>{try{await B.remove(l),b.success("Tools berhasil dihapus")}catch(n){console.error("Error deleting tool:",n),b.error(n.message||"Gagal menghapus tools")}},{title:"Hapus Tools",confirmText:"Hapus",cancelText:"Batal",type:"danger"})},c=s=>s?s.startsWith("data:image/")||s.startsWith("/api/")?s:s.startsWith("uploads/")?`/api/${s}`:s:null,A=s=>s===0?{label:"Habis",color:"text-red-400",bg:"bg-red-500/20"}:s<5?{label:"Kritis",color:"text-orange-400",bg:"bg-orange-500/20"}:s<10?{label:"Rendah",color:"text-yellow-400",bg:"bg-yellow-500/20"}:{label:"Aman",color:"text-green-400",bg:"bg-green-500/20"};return G?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),e.jsx("p",{className:`mt-4 ${t?"text-slate-200":"text-gray-700"}`,children:"Memuat data tools..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${t?"bg-slate-800/50":"bg-white"} rounded-xl p-6 border ${t?"border-slate-700":"border-gray-200"} shadow-lg`,children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold ${t?"text-slate-100":"text-gray-900"} mb-2`,children:"Inventory Tools"}),e.jsx("p",{className:`text-sm ${t?"text-slate-300":"text-gray-700"}`,children:"Kelola inventori tools dan peralatan developer"})]}),e.jsxs("button",{onClick:()=>T(),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl",children:[e.jsx(ie,{size:20}),"Tambah Tools"]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ce,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${t?"text-slate-300":"text-gray-500"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Cari tools, detail, remark...",value:$,onChange:s=>te(s.target.value),className:`w-full pl-10 pr-4 py-3 rounded-lg border ${t?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-400"} focus:outline-none focus:ring-2 focus:ring-purple-500`})]}),e.jsxs("div",{className:`flex rounded-lg border ${t?"border-slate-600 bg-slate-700/30":"border-gray-300 bg-gray-50"} p-1`,children:[e.jsxs("button",{onClick:()=>W("gallery"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all ${O==="gallery"?"bg-purple-600 text-white":t?"text-slate-400 hover:text-slate-200":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(de,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Galeri"})]}),e.jsxs("button",{onClick:()=>W("table"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all ${O==="table"?"bg-purple-600 text-white":t?"text-slate-400 hover:text-slate-200":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(xe,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Tabel"})]})]})]}),e.jsxs("div",{className:`text-sm mt-4 ${t?"text-slate-200":"text-gray-700"}`,children:["Menampilkan ",e.jsx("span",{className:"font-bold text-purple-400",children:q.length})," dari ",e.jsx("span",{className:`font-bold ${t?"text-slate-100":"text-gray-900"}`,children:S.length})," tools"]})]}),O==="gallery"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:q.map((s,l)=>{const n=s.tools_name||s["Part Name"]||s["TOOLS NAME"]||"Unknown",i=s.current_stock||s.Total||s["CURRENT STOCK"]||0,o=A(i),h=s.photo||s.Picture||null,C=s.stock_detail||s["Detail Specification"]||"",D=s.uom||s.UOM||"Pcs",z=s.stock_new||s.NEW||0,M=s.stock_old||s.OLD||0;return e.jsxs("div",{className:`${t?"bg-slate-800/50":"bg-white"} rounded-xl border ${t?"border-slate-700":"border-gray-200"} shadow-lg hover:shadow-xl transition-all overflow-hidden group`,children:[e.jsxs("div",{className:"relative h-48 bg-slate-900/50 overflow-hidden cursor-pointer",onClick:()=>{I(s),j(!0)},children:[c(h)?e.jsx("img",{src:c(h),alt:n,className:"w-full h-full object-contain bg-slate-800 group-hover:scale-105 transition-transform duration-300",onError:J=>{J.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><rect fill="%23334155" width="200" height="200"/><text x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" fill="%2394a3b8" font-size="14">No Image</text></svg>'}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-500/20 to-blue-500/20",children:e.jsx(le,{className:"text-slate-400",size:48})}),e.jsxs("div",{className:`absolute top-3 right-3 px-3 py-1 rounded-full ${o.bg} ${o.color} text-xs font-bold backdrop-blur-sm border ${t?"border-slate-600":"border-white/20"}`,children:[i," ",D]}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(Z,{className:"text-white",size:32})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:`font-bold text-lg mb-2 ${t?"text-slate-100":"text-gray-900"} line-clamp-2`,children:n}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${o.color.replace("text-","bg-")}`}),e.jsx("span",{className:`text-xs font-medium ${t?"text-slate-200":"text-gray-700"}`,children:o.label})]}),C&&e.jsx("div",{className:`text-xs mb-3 ${t?"text-slate-300":"text-gray-700"} line-clamp-2`,children:C}),e.jsxs("div",{className:`flex items-center gap-3 text-xs mb-3 ${t?"text-slate-300":"text-gray-700"}`,children:[z>0&&e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold text-green-400",children:"New:"})," ",z]}),M>0&&e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold text-blue-400",children:"Old:"})," ",M]}),e.jsxs("span",{className:"ml-auto",children:[e.jsx("span",{className:"font-semibold",children:"UOM:"})," ",D]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-slate-700/50",children:[e.jsxs("button",{onClick:()=>{I(s),j(!0)},className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all ${t?"bg-purple-600/20 hover:bg-purple-600/30 text-purple-400":"bg-purple-50 hover:bg-purple-100 text-purple-600"}`,children:[e.jsx(Z,{size:16}),"Detail"]}),e.jsxs("button",{onClick:()=>T(s),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all ${t?"bg-blue-600/20 hover:bg-blue-600/30 text-blue-400":"bg-blue-50 hover:bg-blue-100 text-blue-600"}`,children:[e.jsx(F,{size:16}),"Edit"]}),e.jsx("button",{onClick:()=>y(s),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${t?"bg-red-600/20 hover:bg-red-600/30 text-red-400":"bg-red-50 hover:bg-red-100 text-red-600"}`,children:e.jsx(Q,{size:16})})]})]})]},l)})}),O==="table"&&e.jsx("div",{className:`${t?"bg-slate-800/50":"bg-white"} rounded-xl border ${t?"border-slate-700":"border-gray-200"} shadow-lg overflow-hidden`,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`${t?"bg-slate-700/50":"bg-gray-50"} border-b ${t?"border-slate-700":"border-gray-200"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-6 py-3 text-left text-xs font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wider`,children:"Foto"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wider`,children:"Nama Tools"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wider`,children:"Stock Detail"}),e.jsx("th",{className:`px-6 py-3 text-center text-xs font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wider`,children:"Stock"}),e.jsx("th",{className:`px-6 py-3 text-center text-xs font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wider`,children:"Status"}),e.jsx("th",{className:`px-6 py-3 text-center text-xs font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wider`,children:"Aksi"})]})}),e.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-gray-200"}`,children:q.map((s,l)=>{const n=s.tools_name||s["Part Name"]||s["TOOLS NAME"]||"Unknown",i=s.current_stock||s.Total||s["CURRENT STOCK"]||0,o=A(i),h=c(s.photo||s.Picture||null),C=s.stock_detail||s["Detail Specification"]||"-",D=s.uom||s.UOM||"Pcs",z=s.stock_new||s.NEW||0,M=s.stock_old||s.OLD||0;return e.jsxs("tr",{className:`${t?"hover:bg-slate-700/30":"hover:bg-gray-50"} transition-colors`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden cursor-pointer hover:ring-2 hover:ring-purple-500 transition-all bg-slate-800",onClick:()=>{I(s),j(!0)},children:h?e.jsx("img",{src:h,alt:n,className:"w-full h-full object-contain",onError:J=>{J.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect fill="%23334155" width="64" height="64"/><text x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" fill="%2394a3b8" font-size="10">No Image</text></svg>'}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-500/20 to-blue-500/20",children:e.jsx(le,{className:"text-slate-400",size:24})})})}),e.jsx("td",{className:`px-6 py-4 ${t?"text-slate-100":"text-gray-900"} font-medium`,children:n}),e.jsxs("td",{className:`px-6 py-4 ${t?"text-slate-200":"text-gray-800"} text-sm max-w-xs`,children:[e.jsx("div",{className:"line-clamp-2 mb-1",children:C}),(z>0||M>0)&&e.jsxs("div",{className:"text-xs mt-1",children:[z>0&&e.jsxs("span",{className:"text-green-400 font-medium",children:["New: ",z]}),z>0&&M>0&&e.jsx("span",{className:`mx-1 ${t?"text-slate-400":"text-gray-500"}`,children:"•"}),M>0&&e.jsxs("span",{className:"text-blue-400 font-medium",children:["Old: ",M]})]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[e.jsx("div",{className:`text-lg font-bold ${o.color}`,children:i}),e.jsx("div",{className:`text-xs mt-1 font-medium ${t?"text-slate-300":"text-gray-600"}`,children:D})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${o.bg} ${o.color}`,children:o.label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>{I(s),j(!0)},className:`p-2 rounded-lg transition-all ${t?"bg-purple-600/20 hover:bg-purple-600/30 text-purple-400":"bg-purple-50 hover:bg-purple-100 text-purple-600"}`,title:"Lihat Detail",children:e.jsx(Z,{size:16})}),e.jsx("button",{onClick:()=>T(s),className:`p-2 rounded-lg transition-all ${t?"bg-blue-600/20 hover:bg-blue-600/30 text-blue-400":"bg-blue-50 hover:bg-blue-100 text-blue-600"}`,title:"Edit",children:e.jsx(F,{size:16})}),e.jsx("button",{onClick:()=>y(s),className:`p-2 rounded-lg transition-all ${t?"bg-red-600/20 hover:bg-red-600/30 text-red-400":"bg-red-50 hover:bg-red-100 text-red-600"}`,title:"Hapus",children:e.jsx(Q,{size:16})})]})})]},l)})})]})})}),q.length===0&&e.jsxs("div",{className:`text-center py-12 ${t?"text-slate-400":"text-gray-600"}`,children:[e.jsx(ne,{size:64,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-semibold mb-2",children:$?"Tidak ada tools yang ditemukan":"Belum ada tools"}),e.jsx("p",{className:"text-sm",children:$?"Coba gunakan kata kunci lain":'Klik "Tambah Tools" untuk menambahkan tools pertama'})]}),ae&&a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>j(!1),children:e.jsxs("div",{className:`${t?"bg-slate-800":"bg-white"} rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto`,onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${t?"border-slate-700":"border-gray-200"}`,children:[e.jsx("h3",{className:`text-2xl font-bold ${t?"text-slate-100":"text-gray-900"}`,children:"Detail Tools"}),e.jsx("button",{onClick:()=>j(!1),className:`p-2 rounded-lg transition-colors ${t?"hover:bg-slate-700 text-slate-400 hover:text-white":"hover:bg-gray-100 text-gray-600"}`,children:e.jsx(ee,{size:24})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx("div",{className:"relative h-80 rounded-xl overflow-hidden bg-slate-900/50 border border-slate-700",children:c(a.photo||a.Picture)?e.jsx("img",{src:c(a.photo||a.Picture),alt:a.tools_name||a["Part Name"]||a["TOOLS NAME"],className:"w-full h-full object-contain",onError:s=>{s.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400"><rect fill="%23334155" width="400" height="400"/><text x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" fill="%2394a3b8" font-size="20">No Image Available</text></svg>'}}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-purple-500/20 to-blue-500/20",children:[e.jsx(_e,{className:t?"text-slate-400":"text-gray-400",size:80}),e.jsx("p",{className:`${t?"text-slate-300":"text-gray-600"} mt-4`,children:"Tidak ada foto"})]})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-semibold ${t?"text-slate-400":"text-gray-600"} uppercase tracking-wide`,children:"Part Name"}),e.jsx("p",{className:`text-xl font-bold mt-1 ${t?"text-slate-100":"text-gray-900"}`,children:a.tools_name||a["Part Name"]||a["TOOLS NAME"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-semibold ${t?"text-slate-400":"text-gray-600"} uppercase tracking-wide`,children:"Total Stock"}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsx("span",{className:`text-3xl font-bold ${A(a.current_stock||a.Total||a["CURRENT STOCK"]||0).color}`,children:a.current_stock||a.Total||a["CURRENT STOCK"]||0}),e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${A(a.current_stock||a.Total||a["CURRENT STOCK"]||0).bg} ${A(a.current_stock||a.Total||a["CURRENT STOCK"]||0).color}`,children:A(a.current_stock||a.Total||a["CURRENT STOCK"]||0).label}),e.jsx("span",{className:`text-sm font-medium ${t?"text-slate-300":"text-gray-700"}`,children:a.uom||a.UOM||"Pcs"})]}),(a.stock_new||a.NEW||a.stock_old||a.OLD)&&e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[(a.stock_new||a.NEW)&&e.jsxs("div",{children:[e.jsx("span",{className:`text-xs font-medium ${t?"text-slate-300":"text-gray-700"}`,children:"New:"}),e.jsx("span",{className:"ml-1 font-bold text-green-400",children:a.stock_new||a.NEW||0})]}),(a.stock_old||a.OLD)&&e.jsxs("div",{children:[e.jsx("span",{className:`text-xs font-medium ${t?"text-slate-300":"text-gray-700"}`,children:"Old:"}),e.jsx("span",{className:"ml-1 font-bold text-blue-400",children:a.stock_old||a.OLD||0})]})]})]}),(a.stock_detail||a["Detail Specification"]||a.description)&&e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wide`,children:"Detail Specification"}),e.jsx("p",{className:`mt-1 text-base ${t?"text-slate-100":"text-gray-900"} whitespace-pre-line`,children:a.stock_detail||a["Detail Specification"]||a.description})]}),(a.remark||a.Remark)&&e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wide`,children:"Remark"}),e.jsx("p",{className:`mt-1 text-base ${t?"text-slate-100":"text-gray-900"} whitespace-pre-line`,children:a.remark||a.Remark})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-8 pt-6 border-t border-slate-700",children:[e.jsxs("button",{onClick:()=>{j(!1),T(a)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-semibold transition-all bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl",children:[e.jsx(F,{size:20}),"Edit Tools"]}),e.jsxs("button",{onClick:()=>{j(!1),y(a)},className:`flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-semibold transition-all ${t?"bg-red-600/20 hover:bg-red-600/30 text-red-400":"bg-red-50 hover:bg-red-100 text-red-600"}`,children:[e.jsx(Q,{size:20}),"Hapus"]})]})]})]})}),se&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:`${t?"bg-slate-800":"bg-white"} rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto`,children:[e.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${t?"border-slate-700":"border-gray-200"}`,children:[e.jsx("h3",{className:`text-xl font-bold ${t?"text-slate-100":"text-gray-900"}`,children:k?"Edit Tools":"Tambah Tools Baru"}),e.jsx("button",{onClick:r,className:`p-2 rounded-lg transition-colors ${t?"hover:bg-slate-700 text-slate-400":"hover:bg-gray-100 text-gray-600"}`,children:e.jsx(ee,{size:20})})]}),e.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-2 ${t?"text-slate-300":"text-gray-700"}`,children:"Foto Tools"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden border-2 border-dashed border-slate-600 bg-slate-900/50",children:N?e.jsx("img",{src:N,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(le,{className:"text-slate-500",size:32})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:`block w-full px-4 py-3 rounded-lg border cursor-pointer transition-all ${t?"bg-slate-700/50 border-slate-600 hover:bg-slate-700 text-slate-300":"bg-gray-50 border-gray-300 hover:bg-gray-100 text-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{size:20}),e.jsx("span",{children:N?"Ganti Foto":"Unggah Foto"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:re,className:"hidden",disabled:L})]}),e.jsx("p",{className:`text-xs mt-2 ${t?"text-slate-400":"text-gray-500"}`,children:"Format: JPG, PNG, GIF (Max 5MB)"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-semibold mb-2 ${t?"text-slate-300":"text-gray-700"}`,children:["Nama Tools ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:p.tools_name,onChange:s=>f(l=>({...l,tools_name:s.target.value})),className:`w-full px-4 py-3 rounded-lg border ${t?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-400"} focus:outline-none focus:ring-2 focus:ring-purple-500`,placeholder:"Contoh: Screw Driver #6300"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-2 ${t?"text-slate-300":"text-gray-700"}`,children:"Total Stock"}),e.jsx("input",{type:"number",min:"0",value:p.current_stock,onChange:s=>f(l=>({...l,current_stock:parseInt(s.target.value)||0})),className:`w-full px-4 py-3 rounded-lg border ${t?"bg-slate-700/50 border-slate-600 text-slate-100":"bg-gray-50 border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-purple-500`,placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-2 ${t?"text-slate-300":"text-gray-700"}`,children:"New"}),e.jsx("input",{type:"number",min:"0",value:p.stock_new,onChange:s=>f(l=>({...l,stock_new:parseInt(s.target.value)||0})),className:`w-full px-4 py-3 rounded-lg border ${t?"bg-slate-700/50 border-slate-600 text-slate-100":"bg-gray-50 border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-purple-500`,placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-2 ${t?"text-slate-300":"text-gray-700"}`,children:"Old"}),e.jsx("input",{type:"number",min:"0",value:p.stock_old,onChange:s=>f(l=>({...l,stock_old:parseInt(s.target.value)||0})),className:`w-full px-4 py-3 rounded-lg border ${t?"bg-slate-700/50 border-slate-600 text-slate-100":"bg-gray-50 border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-purple-500`,placeholder:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-2 ${t?"text-slate-300":"text-gray-700"}`,children:"Unit of Measure (UOM)"}),e.jsxs("select",{value:p.uom,onChange:s=>f(l=>({...l,uom:s.target.value})),className:`w-full px-4 py-3 rounded-lg border ${t?"bg-slate-700/50 border-slate-600 text-slate-100":"bg-gray-50 border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-purple-500`,children:[e.jsx("option",{value:"Pcs",children:"Pcs"}),e.jsx("option",{value:"Kg",children:"Kg"}),e.jsx("option",{value:"Box",children:"Box"}),e.jsx("option",{value:"Set",children:"Set"}),e.jsx("option",{value:"Unit",children:"Unit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-2 ${t?"text-slate-300":"text-gray-700"}`,children:"Detail Specification"}),e.jsx("textarea",{value:p.stock_detail||p.description,onChange:s=>f(l=>({...l,stock_detail:s.target.value,description:s.target.value})),rows:3,className:`w-full px-4 py-3 rounded-lg border ${t?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-400"} focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none`,placeholder:"Detail specification tools..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-2 ${t?"text-slate-300":"text-gray-700"}`,children:"Remark"}),e.jsx("textarea",{value:p.remark,onChange:s=>f(l=>({...l,remark:s.target.value})),rows:2,className:`w-full px-4 py-3 rounded-lg border ${t?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-400"} focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none`,placeholder:"Catatan tambahan..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-2 ${t?"text-slate-300":"text-gray-700"}`,children:"Lokasi"}),e.jsx("input",{type:"text",value:p.location,onChange:s=>f(l=>({...l,location:s.target.value})),className:`w-full px-4 py-3 rounded-lg border ${t?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-400"} focus:outline-none focus:ring-2 focus:ring-purple-500`,placeholder:"Contoh: Gudang A, Rak 3"})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-slate-700",children:[e.jsx("button",{type:"button",onClick:r,className:`px-6 py-3 rounded-lg font-semibold transition-all ${t?"bg-slate-700 hover:bg-slate-600 text-slate-300":"bg-gray-200 hover:bg-gray-300 text-gray-800"}`,children:"Batal"}),e.jsxs("button",{type:"submit",className:"px-6 py-3 rounded-lg font-semibold transition-all bg-purple-600 hover:bg-purple-700 text-white shadow-lg hover:shadow-xl",children:[e.jsx(ue,{size:20,className:"inline-block mr-2"}),"Simpan"]})]})]})]})}),e.jsx(be,{isOpen:m.confirmState.isOpen,onClose:m.closeConfirm,onConfirm:m.handleConfirm,title:m.confirmState.title,message:m.confirmState.message,confirmText:m.confirmState.confirmText,cancelText:m.confirmState.cancelText,type:m.confirmState.type,confirmButtonColor:m.confirmState.confirmButtonColor})]})},ze=()=>{const{isDark:t}=me(),m=ge(),[S,g]=d.useState([]),[G,E]=d.useState(!0),[$,te]=d.useState(""),[O,W]=d.useState("table"),[se,H]=d.useState(!1),[ae,j]=d.useState(!1),[a,I]=d.useState(null),[k,V]=d.useState(null),[oe,Y]=d.useState("create"),[p,f]=d.useState({baby_parts:"",qty:0}),N=d.useRef(!0),v=d.useRef(!1),L=d.useRef(null),U=pe({endpoint:"/api/baby-parts",primaryKey:"baby_parts",eventName:"babyPartDataChanged"});d.useEffect(()=>{N.current=!0;const r=async()=>{if(v.current){console.log("[InventoryBabyParts] Fetch already in progress, skipping");return}v.current=!0;try{N.current&&E(!0);const u=await fetch("/api/baby-parts");if(!N.current){v.current=!1;return}const y=u.headers.get("content-type");if(!y||!y.includes("application/json")){const c=await u.text();console.error("[InventoryBabyParts] Expected JSON but got:",y,c.substring(0,100)),N.current&&(g([]),E(!1)),v.current=!1;return}if(u.ok){const c=await u.json();if(!N.current){v.current=!1;return}Array.isArray(c)?g(c):c.data&&Array.isArray(c.data)?g(c.data):c.rows&&Array.isArray(c.rows)?g(c.rows):(console.warn("[InventoryBabyParts] Unexpected data format:",c),g([]))}else{const c=await u.json().catch(()=>({}));console.error("[InventoryBabyParts] Error response:",u.status,c),N.current&&g([])}}catch(u){if(!N.current){v.current=!1;return}console.error("[InventoryBabyParts] Error fetching baby parts:",u),N.current&&g([])}finally{N.current&&(E(!1),v.current=!1)}};r();const x=()=>{L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{N.current&&r()},300)};return window.addEventListener("babyPartDataChanged",x),()=>{N.current=!1,window.removeEventListener("babyPartDataChanged",x),L.current&&clearTimeout(L.current)}},[]);const w=d.useMemo(()=>{if(!$.trim())return S;const r=$.toLowerCase();return S.filter(x=>(x.baby_parts||x["Baby Parts"]||"").toLowerCase().includes(r))},[S,$]),_=()=>{f({baby_parts:"",qty:0}),V(null)},P=(r=null)=>{r?(V(r),Y("edit"),f({baby_parts:r.baby_parts||r["Baby Parts"]||"",qty:r.qty||r.Qty||0})):(_(),Y("create")),H(!0)},B=()=>{H(!1),_()},q=(r,x)=>{if(!r)return!0;const u=i=>i==null?"":typeof i=="number"?i:String(i).trim(),y=(i,o=[])=>{let h=r[i];if(!h||h===""){for(const C of o)if(h=r[C],h)break}return u(h||"")},c=i=>u(x[i]||""),A=y("baby_parts",["Baby Parts","BABY PARTS"]),s=c("baby_parts");if(A!==s)return!0;const l=parseInt(y("qty",["Qty","quantity"]))||0,n=parseInt(c("qty"))||0;return l!==n},re=async r=>{if(r.preventDefault(),!p.baby_parts.trim()){b.error("Nama Baby Parts wajib diisi");return}try{if(k){if(!q(k,p)){b("Tidak ada perubahan data",{duration:2e3,icon:"ℹ️"}),B();return}const x=k.baby_parts||k["Baby Parts"]||k["BABY PARTS"],u=await U.update(x,p);u&&u.no_changes?b("Tidak ada perubahan data",{duration:2e3,icon:"ℹ️"}):b.success("Baby Part berhasil diperbarui")}else await U.create(p),b.success("Baby Part berhasil ditambahkan");B()}catch(x){console.error("Error saving baby part:",x),b.error(x.message||"Gagal menyimpan baby part")}},K=r=>{const x=r.baby_parts||r["Baby Parts"]||r["BABY PARTS"];m.showConfirm(`Apakah Anda yakin ingin menghapus "${x}"?`,async()=>{try{await U.remove(x),b.success("Baby Part berhasil dihapus")}catch(u){console.error("Error deleting baby part:",u),b.error(u.message||"Gagal menghapus baby part")}},{title:"Hapus Baby Part",confirmText:"Hapus",cancelText:"Batal",type:"danger"})},T=r=>r===0?{label:"Habis",color:"text-red-400",bg:"bg-red-500/20"}:r<5?{label:"Kritis",color:"text-orange-400",bg:"bg-orange-500/20"}:r<10?{label:"Rendah",color:"text-yellow-400",bg:"bg-yellow-500/20"}:{label:"Aman",color:"text-green-400",bg:"bg-green-500/20"};return G?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),e.jsx("p",{className:`mt-4 ${t?"text-slate-200":"text-gray-700"}`,children:"Memuat data baby parts..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${t?"bg-slate-800/50":"bg-white"} rounded-xl p-6 border ${t?"border-slate-700":"border-gray-200"} shadow-lg`,children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold ${t?"text-slate-100":"text-gray-900"} mb-2`,children:"Inventory Baby Parts"}),e.jsx("p",{className:`text-sm ${t?"text-slate-300":"text-gray-700"}`,children:"Kelola inventori baby parts"})]}),e.jsxs("button",{onClick:()=>P(),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl",children:[e.jsx(ie,{size:20}),"Tambah Baby Part"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(ce,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${t?"text-slate-300":"text-gray-500"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Cari baby part...",value:$,onChange:r=>te(r.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${t?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-400"} focus:outline-none focus:ring-2 focus:ring-purple-500`})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>W("gallery"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all ${O==="gallery"?"bg-purple-600 text-white":t?"bg-slate-700 text-slate-400 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:text-gray-900"}`,children:[e.jsx(de,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Galeri"})]}),e.jsxs("button",{onClick:()=>W("table"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all ${O==="table"?"bg-purple-600 text-white":t?"bg-slate-700 text-slate-400 hover:text-slate-200":"bg-gray-100 text-gray-600 hover:text-gray-900"}`,children:[e.jsx(xe,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Tabel"})]})]})]}),e.jsxs("div",{className:`text-sm mt-4 ${t?"text-slate-200":"text-gray-700"}`,children:["Menampilkan ",e.jsx("span",{className:"font-bold text-purple-400",children:w.length})," dari ",e.jsx("span",{className:`font-bold ${t?"text-slate-100":"text-gray-900"}`,children:S.length})," baby parts"]})]}),O==="gallery"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w.map((r,x)=>{const u=r.baby_parts||r["Baby Parts"]||"Unknown",y=r.qty||r.Qty||0,c=T(y);return e.jsx("div",{className:`${t?"bg-slate-800/50":"bg-white"} rounded-xl border ${t?"border-slate-700":"border-gray-200"} shadow-lg hover:shadow-xl transition-all overflow-hidden group p-6`,children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:`w-16 h-16 rounded-full ${c.bg} flex items-center justify-center mb-4`,children:e.jsx(ne,{className:c.color,size:32})}),e.jsx("h3",{className:`font-bold text-lg mb-2 ${t?"text-slate-100":"text-gray-900"}`,children:u}),e.jsx("div",{className:`text-2xl font-bold mb-2 ${c.color}`,children:y}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${c.bg} ${c.color} mb-4`,children:c.label}),e.jsxs("div",{className:"flex items-center gap-2 w-full mt-4 pt-4 border-t border-slate-700/50",children:[e.jsxs("button",{onClick:()=>{I(r),j(!0)},className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all ${t?"bg-purple-600/20 hover:bg-purple-600/30 text-purple-400":"bg-purple-50 hover:bg-purple-100 text-purple-600"}`,children:[e.jsx(Z,{size:16}),"Detail"]}),e.jsxs("button",{onClick:()=>P(r),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all ${t?"bg-blue-600/20 hover:bg-blue-600/30 text-blue-400":"bg-blue-50 hover:bg-blue-100 text-blue-600"}`,children:[e.jsx(F,{size:16}),"Edit"]}),e.jsx("button",{onClick:()=>K(r),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${t?"bg-red-600/20 hover:bg-red-600/30 text-red-400":"bg-red-50 hover:bg-red-100 text-red-600"}`,children:e.jsx(Q,{size:16})})]})]})},x)})}),O==="table"&&e.jsx("div",{className:`${t?"bg-slate-800/50":"bg-white"} rounded-xl border ${t?"border-slate-700":"border-gray-200"} shadow-lg overflow-hidden`,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`${t?"bg-slate-700/50":"bg-gray-50"} border-b ${t?"border-slate-700":"border-gray-200"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-6 py-3 text-left text-xs font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wider`,children:"Baby Parts"}),e.jsx("th",{className:`px-6 py-3 text-center text-xs font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wider`,children:"Quantity"}),e.jsx("th",{className:`px-6 py-3 text-center text-xs font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wider`,children:"Status"}),e.jsx("th",{className:`px-6 py-3 text-center text-xs font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wider`,children:"Aksi"})]})}),e.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-gray-200"}`,children:w.map((r,x)=>{const u=r.baby_parts||r["Baby Parts"]||"Unknown",y=r.qty||r.Qty||0,c=T(y);return e.jsxs("tr",{className:`${t?"hover:bg-slate-700/30":"hover:bg-gray-50"} transition-colors`,children:[e.jsx("td",{className:`px-6 py-4 ${t?"text-slate-100":"text-gray-900"} font-medium`,children:u}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("div",{className:`text-lg font-bold ${c.color}`,children:y})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${c.bg} ${c.color}`,children:c.label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>{I(r),j(!0)},className:`p-2 rounded-lg transition-all ${t?"bg-purple-600/20 hover:bg-purple-600/30 text-purple-400":"bg-purple-50 hover:bg-purple-100 text-purple-600"}`,title:"Lihat Detail",children:e.jsx(Z,{size:16})}),e.jsx("button",{onClick:()=>P(r),className:`p-2 rounded-lg transition-all ${t?"bg-blue-600/20 hover:bg-blue-600/30 text-blue-400":"bg-blue-50 hover:bg-blue-100 text-blue-600"}`,title:"Edit",children:e.jsx(F,{size:16})}),e.jsx("button",{onClick:()=>K(r),className:`p-2 rounded-lg transition-all ${t?"bg-red-600/20 hover:bg-red-600/30 text-red-400":"bg-red-50 hover:bg-red-100 text-red-600"}`,title:"Hapus",children:e.jsx(Q,{size:16})})]})})]},x)})})]})})}),ae&&a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>j(!1),children:e.jsxs("div",{className:`${t?"bg-slate-800":"bg-white"} rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto`,onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[e.jsx("h2",{className:`text-2xl font-bold ${t?"text-slate-100":"text-gray-900"}`,children:"Detail Baby Part"}),e.jsx("button",{onClick:()=>j(!1),className:`p-2 rounded-lg transition-colors ${t?"hover:bg-slate-700 text-slate-400 hover:text-white":"hover:bg-gray-100 text-gray-600"}`,children:e.jsx(ee,{size:24})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wide`,children:"Baby Parts"}),e.jsx("p",{className:`text-xl font-bold mt-1 ${t?"text-slate-100":"text-gray-900"}`,children:a.baby_parts||a["Baby Parts"]||a["BABY PARTS"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-semibold ${t?"text-slate-300":"text-gray-700"} uppercase tracking-wide`,children:"Quantity"}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsx("span",{className:`text-3xl font-bold ${T(a.qty||a.Qty||0).color}`,children:a.qty||a.Qty||0}),e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${T(a.qty||a.Qty||0).bg} ${T(a.qty||a.Qty||0).color}`,children:T(a.qty||a.Qty||0).label})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 mt-8 pt-6 border-t border-slate-700 p-6",children:[e.jsxs("button",{onClick:()=>{j(!1),P(a)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-semibold transition-all bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl",children:[e.jsx(F,{size:20}),"Edit Baby Part"]}),e.jsxs("button",{onClick:()=>{j(!1),K(a)},className:`flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-semibold transition-all ${t?"bg-red-600/20 hover:bg-red-600/30 text-red-400":"bg-red-50 hover:bg-red-100 text-red-600"}`,children:[e.jsx(Q,{size:20}),"Hapus"]})]})]})}),se&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:B,children:e.jsxs("div",{className:`${t?"bg-slate-800":"bg-white"} rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto`,onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[e.jsx("h2",{className:`text-2xl font-bold ${t?"text-slate-100":"text-gray-900"}`,children:oe==="create"?"Tambah Baby Part":"Edit Baby Part"}),e.jsx("button",{onClick:B,className:`p-2 rounded-lg transition-colors ${t?"hover:bg-slate-700 text-slate-400 hover:text-white":"hover:bg-gray-100 text-gray-600"}`,children:e.jsx(ee,{size:24})})]}),e.jsxs("form",{onSubmit:re,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:`block text-sm font-semibold mb-2 ${t?"text-slate-300":"text-gray-700"}`,children:["Nama Baby Parts ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:p.baby_parts,onChange:r=>f(x=>({...x,baby_parts:r.target.value})),className:`w-full px-4 py-3 rounded-lg border ${t?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-400"} focus:outline-none focus:ring-2 focus:ring-purple-500`,placeholder:"Masukkan nama baby parts",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-semibold mb-2 ${t?"text-slate-300":"text-gray-700"}`,children:"Quantity"}),e.jsx("input",{type:"number",min:"0",value:p.qty,onChange:r=>f(x=>({...x,qty:parseInt(r.target.value)||0})),className:`w-full px-4 py-3 rounded-lg border ${t?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-400"} focus:outline-none focus:ring-2 focus:ring-purple-500`,placeholder:"0"})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:B,className:`flex-1 px-4 py-3 rounded-lg font-semibold transition-all ${t?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-200 hover:bg-gray-300 text-gray-800"}`,children:"Batal"}),e.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl",children:[e.jsx(ue,{size:20}),"Simpan"]})]})]})]})}),e.jsx(be,{isOpen:m.confirmState.isOpen,onClose:m.closeConfirm,onConfirm:m.handleConfirm,title:m.confirmState.title,message:m.confirmState.message,confirmText:m.confirmState.confirmText,cancelText:m.confirmState.cancelText,type:m.confirmState.type,confirmButtonColor:m.confirmState.confirmButtonColor})]})};function Ue(){const[t,m]=d.useState("inventory"),S=[{id:"inventory",label:"Inventory Tools",icon:ne},{id:"utilities",label:"Utilities",icon:De}];return e.jsx(Oe,{title:"Toolbox",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-2 border-b border-slate-700/50",children:S.map(g=>{const G=g.icon,E=t===g.id;return e.jsxs("button",{onClick:()=>m(g.id),className:Ee("flex items-center gap-2 px-6 py-3 font-semibold transition-all border-b-2",E?"text-purple-400 border-purple-400":"text-slate-400 border-transparent hover:text-slate-300"),children:[e.jsx(G,{size:18}),g.label]},g.id)})}),e.jsxs("div",{children:[t==="inventory"&&e.jsx(Be,{}),t==="utilities"&&e.jsx(ze,{})]})]})})}export{Ue as default};
